import{r as n,R as a}from"./index-CTjT7uj6.js";import{s as K}from"./story_background-BKGiVFcq.js";import"./index-Ddlm_yV4.js";import{N as S}from"./NexButton-DE0bDmfp.js";import{j as h}from"./jsx-runtime-Cw0GR0a5.js";import{u as T,f as j,M as A,a as D,P as W,L as G,m as Y}from"./motion-CD0aH4T1.js";function V(){const t=n.useRef(!1);return T(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function J(){const t=V(),[r,e]=n.useState(0),o=n.useCallback(()=>{t.current&&e(r+1)},[r]);return[n.useCallback(()=>j.postRender(o),[o]),r]}class Q extends n.Component{getSnapshotBeforeUpdate(r){const e=this.props.childRef.current;if(e&&r.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function X({children:t,isPresent:r}){const e=n.useId(),o=n.useRef(null),v=n.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=n.useContext(A);return n.useInsertionEffect(()=>{const{width:f,height:i,top:u,left:m}=v.current;if(r||!o.current||!f||!i)return;o.current.dataset.motionPopId=e;const s=document.createElement("style");return l&&(s.nonce=l),document.head.appendChild(s),s.sheet&&s.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${i}px !important;
            top: ${u}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(s)}},[r]),h.jsx(Q,{isPresent:r,childRef:o,sizeRef:v,children:n.cloneElement(t,{ref:o})})}const L=({children:t,initial:r,isPresent:e,onExitComplete:o,custom:v,presenceAffectsLayout:l,mode:f})=>{const i=D(Z),u=n.useId(),m=n.useMemo(()=>({id:u,initial:r,isPresent:e,custom:v,onExitComplete:s=>{i.set(s,!0);for(const d of i.values())if(!d)return;o&&o()},register:s=>(i.set(s,!1),()=>i.delete(s))}),l?[Math.random()]:[e]);return n.useMemo(()=>{i.forEach((s,d)=>i.set(d,!1))},[e]),n.useEffect(()=>{!e&&!i.size&&o&&o()},[e]),f==="popLayout"&&(t=h.jsx(X,{isPresent:e,children:t})),h.jsx(W.Provider,{value:m,children:t})};function Z(){return new Map}function _(t){return n.useEffect(()=>()=>t(),[])}const C=t=>t.key||"";function P(t,r){t.forEach(e=>{const o=C(e);r.set(o,e)})}function ee(t){const r=[];return n.Children.forEach(t,e=>{n.isValidElement(e)&&r.push(e)}),r}const te=({children:t,custom:r,initial:e=!0,onExitComplete:o,exitBeforeEnter:v,presenceAffectsLayout:l=!0,mode:f="sync"})=>{const i=n.useContext(G).forceRender||J()[0],u=V(),m=ee(t);let s=m;const d=n.useRef(new Map).current,N=n.useRef(s),E=n.useRef(new Map).current,c=n.useRef(!0);if(T(()=>{c.current=!1,P(m,E),N.current=s}),_(()=>{c.current=!0,E.clear(),d.clear()}),c.current)return h.jsx(h.Fragment,{children:s.map(p=>h.jsx(L,{isPresent:!0,initial:e?void 0:!1,presenceAffectsLayout:l,mode:f,children:p},C(p)))});s=[...s];const x=N.current.map(C),w=m.map(C),B=x.length;for(let p=0;p<B;p++){const g=x[p];w.indexOf(g)===-1&&!d.has(g)&&d.set(g,void 0)}return f==="wait"&&d.size&&(s=[]),d.forEach((p,g)=>{if(w.indexOf(g)!==-1)return;const b=E.get(g);if(!b)return;const O=x.indexOf(g);let R=p;if(!R){const H=()=>{d.delete(g);const I=Array.from(E.keys()).filter(k=>!w.includes(k));if(I.forEach(k=>E.delete(k)),N.current=m.filter(k=>{const z=C(k);return z===g||I.includes(z)}),!d.size){if(u.current===!1)return;i(),o&&o()}};R=h.jsx(L,{isPresent:!1,onExitComplete:H,custom:r,presenceAffectsLayout:l,mode:f,children:b},C(b)),d.set(g,R)}s.splice(O,0,R)}),s=s.map(p=>{const g=p.key;return d.has(g)?p:h.jsx(L,{isPresent:!0,presenceAffectsLayout:l,mode:f,children:p},C(p))}),h.jsx(h.Fragment,{children:d.size?s:s.map(p=>n.cloneElement(p))})};function ne(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];t&&t.addEventListener&&t.addEventListener.apply(t,r)}function re(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];t&&t.removeEventListener&&t.removeEventListener.apply(t,r)}var ae=["mousedown","touchstart"],oe=function(t,r,e){e===void 0&&(e=ae);var o=n.useRef(r);n.useEffect(function(){o.current=r},[r]),n.useEffect(function(){for(var v=function(u){var m=t.current;m&&!m.contains(u.target)&&o.current(u)},l=0,f=e;l<f.length;l++){var i=f[l];ne(document,i,v)}return function(){for(var u=0,m=e;u<m.length;u++){var s=m[u];re(document,s,v)}}},[e,t])};const M=({logoSrc:t,displayName:r,homeButtonHandler:e,identity:o,navItems:v,identityProps:l,colorful:f=!1})=>{const[i,u]=n.useState(!1),[m,s]=n.useState(!0),d=n.useRef(null);oe(d,c=>{c.target.closest(".nex-nav-burger")||u(!1)});const N=()=>{u(!i)};n.useEffect(()=>{const c=()=>{window.scrollY===0?s(!0):s(!1)};return window.addEventListener("scroll",c),c(),()=>{window.removeEventListener("scroll",c)}},[]),n.useEffect(()=>{const c=()=>{window.innerWidth>768&&u(!1)};return window.addEventListener("resize",c),c(),()=>{window.removeEventListener("resize",c)}},[]);const E={initial:{y:"-100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"-100%",opacity:0,transition:{delay:.2}},transition:{duration:.3}};return a.createElement(a.Fragment,null,a.createElement("div",{className:`nex-nav ${m?"":"not-at-top"}`},a.createElement("nav",{className:"nex-nav-inner-wrapper"},t?a.createElement("div",{className:`nex-nav-client-logo ${f?"colorful":""}`,onClick:e},a.createElement("img",{src:t,alt:r,className:"nex-nav-logo"})):a.createElement("div",{className:`nex-nav-client-name ${f?"colorful":""}`,onClick:e},a.createElement("div",{className:"client-name"},r)),a.createElement("ul",{className:"nex-nav-list"},v.length&&v.map((c,x)=>a.createElement("li",{key:x,className:"nex-nav-item",onClick:c.onClick},a.createElement("a",{className:"nex-nav-link"},c.label)))),o&&a.createElement("div",{className:"identity"},a.createElement("div",{className:"identity-item text-button",onClick:l==null?void 0:l.onLoginClick},"Log in"),a.createElement(S,{className:"identity-item",text:"Sign Up",onClick:l==null?void 0:l.onSignUpClick,inverted:!0})))),a.createElement("div",{className:`nex-nav-burger ${i?"menu-open":""}`,onClick:N},a.createElement("div",null),a.createElement("div",null),a.createElement("div",null)),a.createElement(te,null,i&&a.createElement(a.Fragment,null,a.createElement(Y.div,{...E,className:"nex-nav-mobile",ref:d,"aria-label":"Sidebar"},a.createElement("div",{className:"nex-nav-mobile-inner"},a.createElement("div",{className:"nex-nav-list"},v.length&&v.map((c,x)=>a.createElement("li",{key:x,className:"nex-nav-item",onClick:()=>{u(!1),c.onClick()}},a.createElement("a",{className:"nex-nav-link"},c.label)))),o&&a.createElement("div",{className:"identity"},a.createElement(S,{className:"identity-item",text:"Login",onClick:l==null?void 0:l.onLoginClick,inverted:!0}),a.createElement(S,{className:"identity-item",text:"Sign Up",type:"primary",onClick:l==null?void 0:l.onSignUpClick,inverted:!0})))))))},q=M;try{M.displayName="NexNav",M.__docgenInfo={description:`NexNav component

Navigation component with a logo, menu items, and optional identity buttons.`,displayName:"NexNav",props:{logoSrc:{defaultValue:null,description:"",name:"logoSrc",required:!1,type:{name:"string"}},displayName:{defaultValue:null,description:"",name:"displayName",required:!0,type:{name:"string"}},homeButtonHandler:{defaultValue:null,description:"",name:"homeButtonHandler",required:!0,type:{name:"() => void"}},identity:{defaultValue:null,description:"",name:"identity",required:!0,type:{name:"boolean"}},navItems:{defaultValue:null,description:"",name:"navItems",required:!0,type:{name:"NavItem[]"}},identityProps:{defaultValue:null,description:"",name:"identityProps",required:!1,type:{name:"IdentityProps"}},colorful:{defaultValue:{value:"false"},description:"",name:"colorful",required:!1,type:{name:"boolean"}}}}}catch{}const fe={title:"NexComponent/NexNav",component:q,tags:["autodocs"]},se=t=>a.createElement("div",{style:{height:"200vh",backgroundImage:`url(${K})`,backgroundSize:"cover",backgroundRepeat:"no-repeat"}},a.createElement(q,{...t})),y=se.bind({});y.args={displayName:"CMDT",identity:!0,homeButtonHandler:()=>console.log("Home clicked"),navItems:[{label:"Home",onClick:()=>console.log("Home clicked")},{label:"About",onClick:()=>console.log("About clicked")},{label:"Services",onClick:()=>console.log("Services clicked")},{label:"Contact",onClick:()=>console.log("Contact clicked")}],identityProps:{onLoginClick:()=>console.log("Login clicked"),onSignUpClick:()=>console.log("Sign Up clicked")}};var $,U,F;y.parameters={...y.parameters,docs:{...($=y.parameters)==null?void 0:$.docs,source:{originalSource:`args => <div style={{
  height: '200vh',
  backgroundImage: \`url(\${storyBackround})\`,
  backgroundSize: 'cover',
  backgroundRepeat: 'no-repeat'
}}>\r
    <NexNav {...args} />\r
  </div>`,...(F=(U=y.parameters)==null?void 0:U.docs)==null?void 0:F.source}}};const pe=["NexNavTest"];export{y as NexNavTest,pe as __namedExportsOrder,fe as default};
