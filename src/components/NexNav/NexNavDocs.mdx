import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { NexNav } from './index';

<Meta
  title="Components/NexNav"
  component={NexNav}
  parameters={{
    docs: {
      description: {
        component: `
# NexNav - Enterprise Navigation Component

A high-performance, animated navigation component built with Framer Motion for enterprise applications. Features optimized animations, accessibility compliance, and cross-browser compatibility.

## ðŸš€ Key Features

- **Enterprise-Grade Animations**: Smooth, performant animations using Framer Motion
- **Accessibility First**: Full keyboard navigation and screen reader support
- **Performance Optimized**: Hardware acceleration and reduced motion support
- **Cross-Browser Compatible**: Works seamlessly across all modern browsers
- **Responsive Design**: Mobile-first approach with optimized touch interactions

## ðŸŽ¨ Animation System

### Performance Optimizations

The NexNav component uses several techniques to ensure smooth animations:

- **Hardware Acceleration**: All animated elements use \`transform: translateZ(0)\` for GPU acceleration
- **Will-Change Hints**: Strategic use of \`will-change\` property for optimal performance
- **Reduced Motion Support**: Respects user's motion preferences via \`prefers-reduced-motion\`
- **Optimized Spring Physics**: Carefully tuned spring configurations for natural feel

### Animation Types

1. **Entrance Animations**: Staggered fade-in effects for nav items
2. **Scroll-Based Animations**: Dynamic background opacity and blur based on scroll position
3. **Hover Interactions**: Subtle scale and color transitions
4. **Shimmer Effects**: Subtle background animations for visual interest
5. **Icon Transitions**: Smooth rotation and scale changes for burger menu

### Animation Configuration

\`\`\`typescript
const ANIMATION_CONFIG = {
  // Fast, responsive animations (150ms)
  fast: { duration: 0.15, ease: [0.4, 0, 0.2, 1] },
  
  // Medium animations (250ms)
  medium: { duration: 0.25, ease: [0.4, 0, 0.2, 1] },
  
  // Slow animations (400ms)
  slow: { duration: 0.4, ease: [0.4, 0, 0.2, 1] },
  
  // Spring configurations for natural feel
  spring: { 
    type: "spring", 
    stiffness: 400, 
    damping: 30,
    mass: 0.8
  },
  
  // Stagger delays for sequential animations
  stagger: {
    container: { delayChildren: 0.1, staggerChildren: 0.05 }
  }
};
\`\`\`

## ðŸŽ¯ Animation Features

### 1. Scroll-Based Background Animation

The navigation background dynamically changes based on scroll position:

- **At Top**: Transparent background with no blur
- **Scrolled**: Semi-transparent background with blur effect
- **Smooth Transitions**: Spring-based interpolation for natural movement

### 2. Staggered Entrance Animations

Nav items animate in sequence for a polished feel:

- **Container**: 100ms delay before children start animating
- **Items**: 50ms stagger between each nav item
- **Reduced Motion**: Instant animations when user prefers reduced motion

### 3. Interactive Hover States

All interactive elements feature subtle hover animations:

- **Scale**: 1.02x scale on hover (disabled for reduced motion)
- **Color Transitions**: Smooth background and border color changes
- **Shadow Effects**: Dynamic shadow intensity changes

### 4. Burger Menu Animations

Smooth icon transitions for the mobile menu:

- **Rotation**: 180Â° rotation for container
- **Icon Swap**: Fade and scale transitions between menu/close icons
- **Spring Physics**: Natural bounce and damping

### 5. Shimmer Effects

Subtle background animations for visual interest:

- **CSS-Based**: Lightweight CSS animations for background effects
- **Performance Optimized**: Uses \`transform\` and \`opacity\` only
- **Reduced Motion**: Disabled when user prefers reduced motion

## ðŸ”§ Performance Optimizations

### Hardware Acceleration

\`\`\`scss
.nex-nav,
.nex-nav-burger-btn,
.nex-nav-mobile-logo,
.nex-nav-login-button {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}
\`\`\`

### Will-Change Hints

\`\`\`scss
.nex-nav {
  will-change: transform, opacity, backdrop-filter;
}

.nex-nav-login-button {
  will-change: transform, background-color, border-color, box-shadow;
}
\`\`\`

### Reduced Motion Support

\`\`\`scss
@media (prefers-reduced-motion: reduce) {
  .nex-nav::before {
    animation: none !important;
  }
  
  .nex-nav,
  .nex-nav-burger-btn,
  .nex-nav-mobile-logo,
  .nex-nav-login-button {
    transition: none !important;
  }
}
\`\`\`

## ðŸŽ¨ Customization

### Animation Timing

You can customize animation timing by modifying the \`ANIMATION_CONFIG\` object:

\`\`\`typescript
// Faster animations
const fastConfig = {
  fast: { duration: 0.1, ease: [0.4, 0, 0.2, 1] },
  medium: { duration: 0.15, ease: [0.4, 0, 0.2, 1] },
  slow: { duration: 0.25, ease: [0.4, 0, 0.2, 1] }
};

// Slower, more dramatic animations
const slowConfig = {
  fast: { duration: 0.3, ease: [0.4, 0, 0.2, 1] },
  medium: { duration: 0.5, ease: [0.4, 0, 0.2, 1] },
  slow: { duration: 0.8, ease: [0.4, 0, 0.2, 1] }
};
\`\`\`

### Spring Physics

Adjust spring configurations for different feels:

\`\`\`typescript
// Bouncy springs
const bouncySpring = {
  stiffness: 600,
  damping: 20,
  mass: 0.5
};

// Stiff, responsive springs
const stiffSpring = {
  stiffness: 800,
  damping: 40,
  mass: 1.2
};
\`\`\`

## ðŸ§ª Testing Animations

### Performance Testing

1. **Chrome DevTools**: Use Performance tab to monitor frame rates
2. **Lighthouse**: Run performance audits to ensure 60fps animations
3. **Real Devices**: Test on actual mobile devices for touch performance

### Accessibility Testing

1. **Keyboard Navigation**: Ensure all animations work with keyboard
2. **Screen Readers**: Verify animations don't interfere with screen readers
3. **Reduced Motion**: Test with \`prefers-reduced-motion: reduce\`

### Browser Compatibility

- âœ… Chrome 88+
- âœ… Firefox 85+
- âœ… Safari 14+
- âœ… Edge 88+
- âœ… Mobile Safari 14+
- âœ… Chrome Mobile 88+

## ðŸš€ Best Practices

1. **Keep Animations Subtle**: Enterprise users prefer subtle, professional animations
2. **Respect User Preferences**: Always support reduced motion preferences
3. **Optimize for Performance**: Use hardware acceleration and efficient properties
4. **Test on Real Devices**: Mobile performance is crucial for navigation
5. **Maintain Accessibility**: Ensure animations don't break keyboard navigation

## ðŸ“± Mobile Considerations

- **Touch Targets**: Minimum 44px touch targets for all interactive elements
- **Gesture Support**: Smooth animations that respond to touch gestures
- **Battery Optimization**: Efficient animations that don't drain battery
- **Network Performance**: Animations work smoothly on slower connections

## ðŸ”® Future Enhancements

- **Gesture-Based Navigation**: Swipe gestures for mobile navigation
- **Advanced Spring Physics**: More sophisticated spring configurations
- **Animation Orchestration**: Coordinated animations across multiple components
- **Performance Monitoring**: Built-in performance metrics and warnings
        `
      }
    }
  }}
/>

## Default Navigation

<Canvas>
  <Story name="Default">
    <NexNav
      displayName="NexComponent"
      navItems={[
        { label: 'Home', onClick: () => console.log('Home clicked') },
        { label: 'Products', onClick: () => console.log('Products clicked') },
        { label: 'About', onClick: () => console.log('About clicked') },
        { label: 'Contact', onClick: () => console.log('Contact clicked') }
      ]}
      languageOptions={[
        { code: 'en', name: 'English' },
        { code: 'es', name: 'EspaÃ±ol' },
        { code: 'fr', name: 'FranÃ§ais' }
      ]}
      onLogin={() => console.log('Login clicked')}
    />
  </Story>
</Canvas>

## Props

<ArgsTable of={NexNav} />